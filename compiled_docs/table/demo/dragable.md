{"title":"拖拽排序","meta":{"title":"拖拽排序","description":"\n<h1 id=\"-\">拖拽排序</h1>\n<p>可拖拽的表格。拖拽功能的实现依赖 react-dnd@7.x 及 react-dnd-html5-backend@7.x， 它要求 react react-dom 版本高于 16.3.x。在线 Demo 可以参考 https://codesandbox.io/s/draggable-table-drt4m</p>\n","order":"24"},"codes":{"jsx":"import { Table } from '@alifd/next';\nimport { DragDropContext, DragSource, DropTarget } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport classnames from 'classnames';\n\nconst { SelectionRow } = Table;\n\nlet dragingIndex = -1;\n\nconst MyDndProvider = DragDropContext(HTML5Backend)(({ children }) => {\n    return children;\n});\n\nfunction MyRow(props) {\n    const {\n        isDragging,\n        isOver,\n        connectDragSource,\n        connectDropTarget,\n        moveRow,\n        className,\n        ...others\n    } = props;\n\n    const opacity = isDragging ? 0 : 1;\n    const style = { ...others.style, cursor: 'move' };\n\n    const cls = classnames({\n        [className]: className,\n        'drop-over-upward': isOver && others.index < dragingIndex,\n        'drop-over-downward': isOver && others.index > dragingIndex,\n    });\n\n    return (\n        <SelectionRow\n            {...others}\n            style={{ ...style, ...{ opacity } }}\n            className={cls}\n            wrapper={row => connectDragSource(connectDropTarget(row))}\n        />\n    );\n}\n\nconst NewRow = DropTarget(\n    'row',\n    {\n        drop(props, monitor) {\n            const dragIndex = monitor.getItem().index;\n            const hoverIndex = props.index;\n\n            if (dragIndex === hoverIndex) {\n                return;\n            }\n\n            props.moveRow(dragIndex, hoverIndex);\n            monitor.getItem().index = hoverIndex;\n        },\n    },\n    (connect, monitor) => ({\n        connectDropTarget: connect.dropTarget(),\n        isOver: monitor.isOver(),\n    })\n)(\n    DragSource(\n        'row',\n        {\n            beginDrag: props => {\n                dragingIndex = props.index;\n                return {\n                    id: props.record[props.primaryKey],\n                    index: props.rowIndex,\n                };\n            },\n        },\n        (connect, monitor) => ({\n            connectDragSource: connect.dragSource(),\n            isDragging: monitor.isDragging(),\n        })\n    )(MyRow)\n);\n\nclass InnerTable extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            dataSource: [...props.dataSource],\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (\n            nextProps.dataSource &&\n            JSON.stringify(nextProps.dataSource) !== JSON.stringify(this.state.dataSource)\n        ) {\n            this.setState({ dataSource: [...nextProps.dataSource] });\n        }\n    }\n\n    moveRow = (dragIndex, hoverIndex) => {\n        const { onSort } = this.props;\n        const dragRow = this.state.dataSource[dragIndex];\n        const dataSource = [...this.state.dataSource];\n        dataSource.splice(dragIndex, 1);\n        dataSource.splice(hoverIndex, 0, dragRow);\n        this.setState({\n            dataSource,\n        });\n\n        onSort && onSort(this.state.dataSource);\n    };\n\n    render() {\n        const { excludeProvider, ...restProps } = this.props;\n        const tableProps = {\n            ...restProps,\n            dataSource: this.state.dataSource,\n            rowProps: (props, index) => ({\n                index,\n                moveRow: this.moveRow,\n            }),\n            components: {\n                Row: NewRow,\n            },\n        };\n\n        return <Table {...tableProps} />;\n    }\n}\n\nconst result = [\n    {\n        id: '001',\n        time: 1951,\n        title: { name: 'The Old Man and the Sea' },\n    },\n    {\n        id: '002',\n        time: 1925,\n        title: { name: 'the great gatsby' },\n    },\n    {\n        id: '003',\n        time: 1719,\n        title: { name: 'The adventures of Robinson Crusoe' },\n    },\n];\n\nclass Demo extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            dataSource: result,\n        };\n    }\n\n    onRemove = id => {\n        const { dataSource } = this.state;\n        let index = -1;\n        dataSource.forEach((item, i) => {\n            if (item.id === id) {\n                index = i;\n            }\n        });\n        if (index !== -1) {\n            dataSource.splice(index, 1);\n            this.setState({\n                dataSource,\n            });\n        }\n    };\n\n    renderOper = (value, index, record) => {\n        return <a onClick={this.onRemove.bind(this, record.id)}>Remove({record.id})</a>;\n    };\n    render() {\n        return (\n            <MyDndProvider>\n                <InnerTable dataSource={this.state.dataSource} onSort={console.log}>\n                    <Table.Column title=\"Id\" dataIndex=\"id\" width={100} lock />\n                    <Table.Column title=\"Title\" dataIndex=\"title.name\" width={400} />\n                    <Table.Column title=\"Time\" dataIndex=\"time\" width={300} />\n                    <Table.Column title=\"operate\" cell={this.renderOper} width={300} lock=\"right\" />\n                </InnerTable>\n            </MyDndProvider>\n        );\n    }\n}\n\nReactDOM.render(<Demo />, mountNode);\n","css":".drop-over-downward {\n    border-bottom: 2px dashed #3080fe;\n}\n\n.drop-over-upward {\n    border-top: 2px dashed #3080fe;\n}\n"},"body":"\n\n```jsx\nimport { Table } from '@alifd/next';\nimport { DragDropContext, DragSource, DropTarget } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport classnames from 'classnames';\n\nconst { SelectionRow } = Table;\n\nlet dragingIndex = -1;\n\nconst MyDndProvider = DragDropContext(HTML5Backend)(({ children }) => {\n    return children;\n});\n\nfunction MyRow(props) {\n    const {\n        isDragging,\n        isOver,\n        connectDragSource,\n        connectDropTarget,\n        moveRow,\n        className,\n        ...others\n    } = props;\n\n    const opacity = isDragging ? 0 : 1;\n    const style = { ...others.style, cursor: 'move' };\n\n    const cls = classnames({\n        [className]: className,\n        'drop-over-upward': isOver && others.index < dragingIndex,\n        'drop-over-downward': isOver && others.index > dragingIndex,\n    });\n\n    return (\n        <SelectionRow\n            {...others}\n            style={{ ...style, ...{ opacity } }}\n            className={cls}\n            wrapper={row => connectDragSource(connectDropTarget(row))}\n        />\n    );\n}\n\nconst NewRow = DropTarget(\n    'row',\n    {\n        drop(props, monitor) {\n            const dragIndex = monitor.getItem().index;\n            const hoverIndex = props.index;\n\n            if (dragIndex === hoverIndex) {\n                return;\n            }\n\n            props.moveRow(dragIndex, hoverIndex);\n            monitor.getItem().index = hoverIndex;\n        },\n    },\n    (connect, monitor) => ({\n        connectDropTarget: connect.dropTarget(),\n        isOver: monitor.isOver(),\n    })\n)(\n    DragSource(\n        'row',\n        {\n            beginDrag: props => {\n                dragingIndex = props.index;\n                return {\n                    id: props.record[props.primaryKey],\n                    index: props.rowIndex,\n                };\n            },\n        },\n        (connect, monitor) => ({\n            connectDragSource: connect.dragSource(),\n            isDragging: monitor.isDragging(),\n        })\n    )(MyRow)\n);\n\nclass InnerTable extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            dataSource: [...props.dataSource],\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (\n            nextProps.dataSource &&\n            JSON.stringify(nextProps.dataSource) !== JSON.stringify(this.state.dataSource)\n        ) {\n            this.setState({ dataSource: [...nextProps.dataSource] });\n        }\n    }\n\n    moveRow = (dragIndex, hoverIndex) => {\n        const { onSort } = this.props;\n        const dragRow = this.state.dataSource[dragIndex];\n        const dataSource = [...this.state.dataSource];\n        dataSource.splice(dragIndex, 1);\n        dataSource.splice(hoverIndex, 0, dragRow);\n        this.setState({\n            dataSource,\n        });\n\n        onSort && onSort(this.state.dataSource);\n    };\n\n    render() {\n        const { excludeProvider, ...restProps } = this.props;\n        const tableProps = {\n            ...restProps,\n            dataSource: this.state.dataSource,\n            rowProps: (props, index) => ({\n                index,\n                moveRow: this.moveRow,\n            }),\n            components: {\n                Row: NewRow,\n            },\n        };\n\n        return <Table {...tableProps} />;\n    }\n}\n\nconst result = [\n    {\n        id: '001',\n        time: 1951,\n        title: { name: 'The Old Man and the Sea' },\n    },\n    {\n        id: '002',\n        time: 1925,\n        title: { name: 'the great gatsby' },\n    },\n    {\n        id: '003',\n        time: 1719,\n        title: { name: 'The adventures of Robinson Crusoe' },\n    },\n];\n\nclass Demo extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            dataSource: result,\n        };\n    }\n\n    onRemove = id => {\n        const { dataSource } = this.state;\n        let index = -1;\n        dataSource.forEach((item, i) => {\n            if (item.id === id) {\n                index = i;\n            }\n        });\n        if (index !== -1) {\n            dataSource.splice(index, 1);\n            this.setState({\n                dataSource,\n            });\n        }\n    };\n\n    renderOper = (value, index, record) => {\n        return <a onClick={this.onRemove.bind(this, record.id)}>Remove({record.id})</a>;\n    };\n    render() {\n        return (\n            <MyDndProvider>\n                <InnerTable dataSource={this.state.dataSource} onSort={console.log}>\n                    <Table.Column title=\"Id\" dataIndex=\"id\" width={100} lock />\n                    <Table.Column title=\"Title\" dataIndex=\"title.name\" width={400} />\n                    <Table.Column title=\"Time\" dataIndex=\"time\" width={300} />\n                    <Table.Column title=\"operate\" cell={this.renderOper} width={300} lock=\"right\" />\n                </InnerTable>\n            </MyDndProvider>\n        );\n    }\n}\n\nReactDOM.render(<Demo />, mountNode);\n```\n\n```css\n.drop-over-downward {\n    border-bottom: 2px dashed #3080fe;\n}\n\n.drop-over-upward {\n    border-top: 2px dashed #3080fe;\n}\n```","name":"dragable","html":"<script>(function(){var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar import_next = require(\"@alifd/next\");\nvar import_react_dnd = require(\"react-dnd\");\nvar import_react_dnd_html5_backend = __toESM(require(\"react-dnd-html5-backend\"));\nvar import_classnames = __toESM(require(\"classnames\"));\nconst { SelectionRow } = import_next.Table;\nlet dragingIndex = -1;\nconst MyDndProvider = (0, import_react_dnd.DragDropContext)(import_react_dnd_html5_backend.default)(({ children }) => {\n  return children;\n});\nfunction MyRow(props) {\n  const {\n    isDragging,\n    isOver,\n    connectDragSource,\n    connectDropTarget,\n    moveRow,\n    className,\n    ...others\n  } = props;\n  const opacity = isDragging ? 0 : 1;\n  const style = { ...others.style, cursor: \"move\" };\n  const cls = (0, import_classnames.default)({\n    [className]: className,\n    \"drop-over-upward\": isOver && others.index < dragingIndex,\n    \"drop-over-downward\": isOver && others.index > dragingIndex\n  });\n  return /* @__PURE__ */ React.createElement(\n    SelectionRow,\n    {\n      ...others,\n      style: { ...style, ...{ opacity } },\n      className: cls,\n      wrapper: (row) => connectDragSource(connectDropTarget(row))\n    }\n  );\n}\nconst NewRow = (0, import_react_dnd.DropTarget)(\n  \"row\",\n  {\n    drop(props, monitor) {\n      const dragIndex = monitor.getItem().index;\n      const hoverIndex = props.index;\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n      props.moveRow(dragIndex, hoverIndex);\n      monitor.getItem().index = hoverIndex;\n    }\n  },\n  (connect, monitor) => ({\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver()\n  })\n)(\n  (0, import_react_dnd.DragSource)(\n    \"row\",\n    {\n      beginDrag: (props) => {\n        dragingIndex = props.index;\n        return {\n          id: props.record[props.primaryKey],\n          index: props.rowIndex\n        };\n      }\n    },\n    (connect, monitor) => ({\n      connectDragSource: connect.dragSource(),\n      isDragging: monitor.isDragging()\n    })\n  )(MyRow)\n);\nclass InnerTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.moveRow = (dragIndex, hoverIndex) => {\n      const { onSort } = this.props;\n      const dragRow = this.state.dataSource[dragIndex];\n      const dataSource = [...this.state.dataSource];\n      dataSource.splice(dragIndex, 1);\n      dataSource.splice(hoverIndex, 0, dragRow);\n      this.setState({\n        dataSource\n      });\n      onSort && onSort(this.state.dataSource);\n    };\n    this.state = {\n      dataSource: [...props.dataSource]\n    };\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.dataSource && JSON.stringify(nextProps.dataSource) !== JSON.stringify(this.state.dataSource)) {\n      this.setState({ dataSource: [...nextProps.dataSource] });\n    }\n  }\n  render() {\n    const { excludeProvider, ...restProps } = this.props;\n    const tableProps = {\n      ...restProps,\n      dataSource: this.state.dataSource,\n      rowProps: (props, index) => ({\n        index,\n        moveRow: this.moveRow\n      }),\n      components: {\n        Row: NewRow\n      }\n    };\n    return /* @__PURE__ */ React.createElement(import_next.Table, { ...tableProps });\n  }\n}\nconst result = [\n  {\n    id: \"001\",\n    time: 1951,\n    title: { name: \"The Old Man and the Sea\" }\n  },\n  {\n    id: \"002\",\n    time: 1925,\n    title: { name: \"the great gatsby\" }\n  },\n  {\n    id: \"003\",\n    time: 1719,\n    title: { name: \"The adventures of Robinson Crusoe\" }\n  }\n];\nclass Demo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onRemove = (id) => {\n      const { dataSource } = this.state;\n      let index = -1;\n      dataSource.forEach((item, i) => {\n        if (item.id === id) {\n          index = i;\n        }\n      });\n      if (index !== -1) {\n        dataSource.splice(index, 1);\n        this.setState({\n          dataSource\n        });\n      }\n    };\n    this.renderOper = (value, index, record) => {\n      return /* @__PURE__ */ React.createElement(\"a\", { onClick: this.onRemove.bind(this, record.id) }, \"Remove(\", record.id, \")\");\n    };\n    this.state = {\n      dataSource: result\n    };\n  }\n  render() {\n    return /* @__PURE__ */ React.createElement(MyDndProvider, null, /* @__PURE__ */ React.createElement(InnerTable, { dataSource: this.state.dataSource, onSort: console.log }, /* @__PURE__ */ React.createElement(import_next.Table.Column, { title: \"Id\", dataIndex: \"id\", width: 100, lock: true }), /* @__PURE__ */ React.createElement(import_next.Table.Column, { title: \"Title\", dataIndex: \"title.name\", width: 400 }), /* @__PURE__ */ React.createElement(import_next.Table.Column, { title: \"Time\", dataIndex: \"time\", width: 300 }), /* @__PURE__ */ React.createElement(import_next.Table.Column, { title: \"operate\", cell: this.renderOper, width: 300, lock: \"right\" })));\n  }\n}\nReactDOM.render(/* @__PURE__ */ React.createElement(Demo, null), mountNode);\n})()</script><div class=\"highlight\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Table <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@alifd/next'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> DragDropContext<span class=\"token punctuation\">,</span> DragSource<span class=\"token punctuation\">,</span> DropTarget <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dnd'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> HTML5Backend <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dnd-html5-backend'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> classnames <span class=\"token keyword\">from</span> <span class=\"token string\">'classnames'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> SelectionRow <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Table<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> dragingIndex <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> MyDndProvider <span class=\"token operator\">=</span> <span class=\"token function\">DragDropContext</span><span class=\"token punctuation\">(</span>HTML5Backend<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> children<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">MyRow</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n        isDragging<span class=\"token punctuation\">,</span>\n        isOver<span class=\"token punctuation\">,</span>\n        connectDragSource<span class=\"token punctuation\">,</span>\n        connectDropTarget<span class=\"token punctuation\">,</span>\n        moveRow<span class=\"token punctuation\">,</span>\n        className<span class=\"token punctuation\">,</span>\n        <span class=\"token operator\">...</span>others\n    <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> opacity <span class=\"token operator\">=</span> isDragging <span class=\"token operator\">?</span> <span class=\"token number\">0</span> <span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> style <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>others<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">cursor</span><span class=\"token operator\">:</span> <span class=\"token string\">'move'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> cls <span class=\"token operator\">=</span> <span class=\"token function\">classnames</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">[</span>className<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> className<span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'drop-over-upward'</span><span class=\"token operator\">:</span> isOver <span class=\"token operator\">&amp;&amp;</span> others<span class=\"token punctuation\">.</span>index <span class=\"token operator\">&lt;</span> dragingIndex<span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">'drop-over-downward'</span><span class=\"token operator\">:</span> isOver <span class=\"token operator\">&amp;&amp;</span> others<span class=\"token punctuation\">.</span>index <span class=\"token operator\">></span> dragingIndex<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SelectionRow</span></span>\n            <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>others<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>style<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token punctuation\">{</span> opacity <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>cls<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">wrapper</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">row</span> <span class=\"token operator\">=></span> <span class=\"token function\">connectDragSource</span><span class=\"token punctuation\">(</span><span class=\"token function\">connectDropTarget</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">/></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> NewRow <span class=\"token operator\">=</span> <span class=\"token function\">DropTarget</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'row'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">drop</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">,</span> monitor</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">const</span> dragIndex <span class=\"token operator\">=</span> monitor<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">const</span> hoverIndex <span class=\"token operator\">=</span> props<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dragIndex <span class=\"token operator\">===</span> hoverIndex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            props<span class=\"token punctuation\">.</span><span class=\"token function\">moveRow</span><span class=\"token punctuation\">(</span>dragIndex<span class=\"token punctuation\">,</span> hoverIndex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            monitor<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>index <span class=\"token operator\">=</span> hoverIndex<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span><span class=\"token parameter\">connect<span class=\"token punctuation\">,</span> monitor</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">connectDropTarget</span><span class=\"token operator\">:</span> connect<span class=\"token punctuation\">.</span><span class=\"token function\">dropTarget</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">isOver</span><span class=\"token operator\">:</span> monitor<span class=\"token punctuation\">.</span><span class=\"token function\">isOver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\n    <span class=\"token function\">DragSource</span><span class=\"token punctuation\">(</span>\n        <span class=\"token string\">'row'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token function-variable function\">beginDrag</span><span class=\"token operator\">:</span> <span class=\"token parameter\">props</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                dragingIndex <span class=\"token operator\">=</span> props<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> props<span class=\"token punctuation\">.</span>record<span class=\"token punctuation\">[</span>props<span class=\"token punctuation\">.</span>primaryKey<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token literal-property property\">index</span><span class=\"token operator\">:</span> props<span class=\"token punctuation\">.</span>rowIndex<span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span><span class=\"token parameter\">connect<span class=\"token punctuation\">,</span> monitor</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">connectDragSource</span><span class=\"token operator\">:</span> connect<span class=\"token punctuation\">.</span><span class=\"token function\">dragSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">isDragging</span><span class=\"token operator\">:</span> monitor<span class=\"token punctuation\">.</span><span class=\"token function\">isDragging</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>MyRow<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">InnerTable</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">dataSource</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>props<span class=\"token punctuation\">.</span>dataSource<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">componentWillReceiveProps</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">nextProps</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n            nextProps<span class=\"token punctuation\">.</span>dataSource <span class=\"token operator\">&amp;&amp;</span>\n            <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>nextProps<span class=\"token punctuation\">.</span>dataSource<span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>dataSource<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">dataSource</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>nextProps<span class=\"token punctuation\">.</span>dataSource<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function-variable function\">moveRow</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">dragIndex<span class=\"token punctuation\">,</span> hoverIndex</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> onSort <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> dragRow <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>dataSource<span class=\"token punctuation\">[</span>dragIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> dataSource <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>dataSource<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        dataSource<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>dragIndex<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        dataSource<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>hoverIndex<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> dragRow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            dataSource<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        onSort <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">onSort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>dataSource<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> excludeProvider<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>restProps <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> tableProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token operator\">...</span>restProps<span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">dataSource</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>dataSource<span class=\"token punctuation\">,</span>\n            <span class=\"token function-variable function\">rowProps</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                index<span class=\"token punctuation\">,</span>\n                <span class=\"token literal-property property\">moveRow</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>moveRow<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">components</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token literal-property property\">Row</span><span class=\"token operator\">:</span> NewRow<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Table</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>tableProps<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">'001'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">time</span><span class=\"token operator\">:</span> <span class=\"token number\">1951</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'The Old Man and the Sea'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">'002'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">time</span><span class=\"token operator\">:</span> <span class=\"token number\">1925</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'the great gatsby'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">'003'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">time</span><span class=\"token operator\">:</span> <span class=\"token number\">1719</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'The adventures of Robinson Crusoe'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Demo</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">dataSource</span><span class=\"token operator\">:</span> result<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function-variable function\">onRemove</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">id</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> dataSource <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        dataSource<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                index <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            dataSource<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                dataSource<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">renderOper</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">,</span> record</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">onRemove</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> record<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Remove(</span><span class=\"token punctuation\">{</span>record<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span><span class=\"token plain-text\">)</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MyDndProvider</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">InnerTable</span></span> <span class=\"token attr-name\">dataSource</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>dataSource<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">onSort</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>console<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n                    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Table.Column</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Id<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dataIndex</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">100</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">lock</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n                    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Table.Column</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Title<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dataIndex</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>title.name<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">400</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n                    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Table.Column</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Time<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dataIndex</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>time<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">300</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n                    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Table.Column</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>operate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">cell</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderOper<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">width</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">300</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">lock</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>right<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n                </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">InnerTable</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">MyDndProvider</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Demo</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> mountNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div><style type=\"text/css\">.drop-over-downward {\n    border-bottom: 2px dashed #3080fe;\n}\n\n.drop-over-upward {\n    border-top: 2px dashed #3080fe;\n}</style><div class=\"highlight\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.drop-over-downward</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">border-bottom</span><span class=\"token punctuation\">:</span> 2px dashed #3080fe<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.drop-over-upward</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">border-top</span><span class=\"token punctuation\">:</span> 2px dashed #3080fe<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","renderScript":"<script>(function(){})()</script>"}