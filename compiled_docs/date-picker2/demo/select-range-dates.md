{"title":"选择不超过七天的范围","meta":{"title":"选择不超过七天的范围","description":"\n<h1 id=\"-\">选择不超过七天的范围</h1>\n<p>使用 onCalendarChange 和 disabledDate 来限制动态的日期区间选择。</p>\n","order":"4"},"codes":{"jsx":"import { useState } from 'react';\nimport { DatePicker2 } from '@alifd/next';\n\nconst { RangePicker } = DatePicker2;\n\nconst App = () => {\n    const [dates, setDates] = useState(null);\n    const [value, setValue] = useState(null);\n    const disabledDate = current => {\n        if (!dates) {\n            return false;\n        }\n        const tooLate = dates[0] && current.diff(dates[0], 'days') >= 7;\n        const tooEarly = dates[1] && dates[1].diff(current, 'days') >= 7;\n        return !!tooEarly || !!tooLate;\n    };\n\n    return (\n        <RangePicker\n            value={dates || value}\n            disabledDate={disabledDate}\n            onCalendarChange={val => {\n                setDates(val);\n            }}\n            onChange={val => {\n                setValue(val);\n            }}\n        />\n    );\n};\n\nReactDOM.render(<App />, mountNode);\n"},"body":"\n\n```jsx\nimport { useState } from 'react';\nimport { DatePicker2 } from '@alifd/next';\n\nconst { RangePicker } = DatePicker2;\n\nconst App = () => {\n    const [dates, setDates] = useState(null);\n    const [value, setValue] = useState(null);\n    const disabledDate = current => {\n        if (!dates) {\n            return false;\n        }\n        const tooLate = dates[0] && current.diff(dates[0], 'days') >= 7;\n        const tooEarly = dates[1] && dates[1].diff(current, 'days') >= 7;\n        return !!tooEarly || !!tooLate;\n    };\n\n    return (\n        <RangePicker\n            value={dates || value}\n            disabledDate={disabledDate}\n            onCalendarChange={val => {\n                setDates(val);\n            }}\n            onChange={val => {\n                setValue(val);\n            }}\n        />\n    );\n};\n\nReactDOM.render(<App />, mountNode);\n```","name":"selectRangeDates","html":"<script>(function(){var import_react = require(\"react\");\nvar import_next = require(\"@alifd/next\");\nconst { RangePicker } = import_next.DatePicker2;\nconst App = () => {\n  const [dates, setDates] = (0, import_react.useState)(null);\n  const [value, setValue] = (0, import_react.useState)(null);\n  const disabledDate = (current) => {\n    if (!dates) {\n      return false;\n    }\n    const tooLate = dates[0] && current.diff(dates[0], \"days\") >= 7;\n    const tooEarly = dates[1] && dates[1].diff(current, \"days\") >= 7;\n    return !!tooEarly || !!tooLate;\n  };\n  return /* @__PURE__ */ React.createElement(\n    RangePicker,\n    {\n      value: dates || value,\n      disabledDate,\n      onCalendarChange: (val) => {\n        setDates(val);\n      },\n      onChange: (val) => {\n        setValue(val);\n      }\n    }\n  );\n};\nReactDOM.render(/* @__PURE__ */ React.createElement(App, null), mountNode);\n})()</script><div class=\"highlight\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> DatePicker2 <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@alifd/next'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> RangePicker <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> DatePicker2<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>dates<span class=\"token punctuation\">,</span> setDates<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>value<span class=\"token punctuation\">,</span> setValue<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">disabledDate</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">current</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>dates<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">const</span> tooLate <span class=\"token operator\">=</span> dates<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> current<span class=\"token punctuation\">.</span><span class=\"token function\">diff</span><span class=\"token punctuation\">(</span>dates<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'days'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">7</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> tooEarly <span class=\"token operator\">=</span> dates<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> dates<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">diff</span><span class=\"token punctuation\">(</span>current<span class=\"token punctuation\">,</span> <span class=\"token string\">'days'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">7</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token operator\">!</span><span class=\"token operator\">!</span>tooEarly <span class=\"token operator\">||</span> <span class=\"token operator\">!</span><span class=\"token operator\">!</span>tooLate<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">RangePicker</span></span>\n            <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>dates <span class=\"token operator\">||</span> value<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">disabledDate</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>disabledDate<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">onCalendarChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">val</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">setDates</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">val</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">/></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> mountNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","renderScript":"<script>(function(){})()</script>"}